<div class="container mt-4">

  <div class="card shadow rounded-4 overflow-hidden">
    <div class="card-header bg-light px-4 py-3 d-flex justify-content-between align-items-center">
      <h3 class="mb-0">
        <i class="bi bi-door-closed me-2"></i>
        <% if @comp_class.deleted_at.present? %>
          <s>Аудитория <%= @comp_class.aud_number %></s>
        <% else %>
          Аудитория <%= @comp_class.aud_number %>
        <% end %>
      </h3>
      <%= link_to comp_classes_path, class: 'btn btn-secondary' do %>
        <i class="bi bi-arrow-left"></i> Назад
      <% end %>
    </div>

    <div class="card-body px-4 py-4">
      <div class="mb-4">
        <h5 class="text-muted mb-3">Основная информация</h5>
        <ul class="list-unstyled mb-0">
          <li class="mb-2">
            <i class="bi bi-building me-2 text-primary"></i>
            <strong>Кафедра:</strong> <%= @comp_class.cafedra.name %>
          </li>
          <li class="mb-2">
            <i class="bi bi-clipboard-check me-2 text-secondary"></i>
            <strong>Специальное назначение:</strong> <%= @comp_class.spec_purpose.presence || '—' %>
          </li>
        </ul>
      </div>

      <div class="row">
        <div class="col-md-6 mb-4">
          <h5 class="text-muted mb-3">Числовые характеристики</h5>
          <ul class="list-unstyled">
            <li class="mb-2">
              <i class="bi bi-person-fill me-2 text-success"></i>
              <strong>Посадочных мест:</strong> <%= @comp_class.count_seat %>
            </li>
            <li class="mb-2">
              <i class="bi bi-pc-display me-2 text-info"></i>
              <strong>Компьютеров:</strong> <%= @comp_class.count_comp %>
            </li>
            <li class="mb-2">
              <i class="bi bi-person-workspace me-2 text-warning"></i>
              <strong>Мест за компьютерами:</strong> <%= @comp_class.count_comp_seat %>
            </li>
          </ul>
        </div>

        <div class="col-md-6 mb-4">
          <h5 class="text-muted mb-3">Оборудование</h5>
          <ul class="list-unstyled">
            <li class="mb-2">
              <i class="bi <%= @comp_class.projector ? 'bi-check-circle-fill text-success' : 'bi-x-circle-fill text-danger' %> me-2"></i>
              <strong>Проектор:</strong> <%= @comp_class.projector ? 'Есть' : 'Нет' %>
            </li>
            <li class="mb-2">
              <i class="bi <%= @comp_class.panel ? 'bi-check-circle-fill text-success' : 'bi-x-circle-fill text-danger' %> me-2"></i>
              <strong>Панель:</strong> <%= @comp_class.panel ? 'Есть' : 'Нет' %>
            </li>
            <li class="mb-2">
              <i class="bi <%= @comp_class.ch_board ? 'bi-check-circle-fill text-success' : 'bi-x-circle-fill text-danger' %> me-2"></i>
              <strong>Меловая доска:</strong> <%= @comp_class.ch_board ? 'Есть' : 'Нет' %>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="card-footer bg-light px-4 py-3 d-flex justify-content-end gap-2">
      <%= link_to edit_comp_class_path(@comp_class), class: 'btn btn-outline-primary' do %>
        <i class="bi bi-pencil"></i> Редактировать
      <% end %>
      <%= link_to soft_delete_comp_class_path(@comp_class), method: :patch,
                  data: { confirm: 'Пометить на удаление?', bs_toggle: "tooltip" },
                  class: 'btn btn-outline-danger', title: 'Пометить на удаление' do%>
        <i class="bi bi-trash"></i> Пометить на удаление
      <%end %>


      <% if current_user.role.name == 'admin'  %>
        <%= link_to @comp_class, method: :delete,
                    data: { confirm: 'Вы уверены?' },
                    class: 'btn btn-outline-danger' do %>
          <i class="bi bi-x-lg"></i> Удалить
        <% end %>
        <%= link_to restore_comp_class_path(@comp_class),
                    method: :patch,
                    class: "btn btn-outline-success #{'disabled' if @comp_class.deleted_at.nil?}",
                    title: 'Восстановить' do %>
          <i class="bi bi-arrow-clockwise"></i> Восстановить
        <% end %>
      <% end %>
    </div>
  </div>
</div>
